import java.io.*;
import java.net.*;
import java.util.Scanner;

public class Player 
{
	public final int numberOfShips = 5;
	private ServerSocket serverSocket = null;
	private Socket socket = null;
	private Scanner reader = null;
	private PrintWriter writer = null;
	private Ship[] shipArray = null;
	int playerNumber = 0;

	public Player(int playerNumberIn) 
	{
		playerNumber = playerNumberIn;
	}

	public int initialize() throws IOException 
	{
		int result = -1;
		int port = 23; // Listen on port 23 by default

		// Create a ServerSocket on port "port"
		serverSocket = new ServerSocket(port);
		socket = serverSocket.accept();
		reader = new Scanner(socket.getInputStream());
		writer = new PrintWriter(socket.getOutputStream(), true);

		if ((serverSocket != null) 
			&& 
			(socket != null) 
			&& 
			(reader != null)
			&& 
			(writer != null)) 
		{
			result = 0;
		}
		
		boolean done = false;
		while (!done)
		{
			String shipType = reader.next();
		}

		return result;
	}

	public String getInput() 
	{
		int row = -1;
		char col = 0;
		String result = "err";

		if (reader.hasNextInt()) 
		{
			row = reader.nextInt();
		}

		if (reader.hasNext()) 
		{
			String temp = reader.next();

			if (temp.length() == 1) 
			{
				col = Character.toUpperCase(temp.charAt(0));
			}
		}

		if ((row >= 0) && (row <= 10)) 
		{
			if ((col >= 'A') && (col <= 'J')) 
			{
				result = Character.toString(col) + Integer.toString(row);
			}
		}

		return result;
	}
	
	public boolean hasLost()
	{
		boolean result = true;
		
		for (int i = 0; i < shipArray.length; i++)
		{
			if (shipArray[i].isSunk())
			{
				result = false;
			}
		}
		
		return result;
	}
	
	public void sendToClient(String message)
	{
		writer.println(message);
	}
}